{"name":"Introduction to Web Site Programming","tagline":"3 days of HTML/CSS/Javascript fun!","body":"#Day 3: Beginning with JavaScript\r\n\r\nYou have been amazingly creative with your pages and stories, and today we will learn how to make them even more interactive with JavaScript!\r\n\r\nCovering Javascript in one night is ambitious.  The goal is to get to the point where you understand what happens on this page:  https://d157rqmxrxj6ey.cloudfront.net/jamwave/18168  There's *a lot* of information here, so if you feel fatigued, feel free to jump to the end and explore Khan Academy's Hour of Code for JavaScript.  It is really good and isn't just on one long page.\r\n\r\nTonight, we'll go over\r\n- Introducing JavaScript: \r\n  * What JavaScript looks like (very quickly)\r\n  * Simple alerts, prompts, and variables\r\n  * Simple if..then..else control\r\n  * a bit of debugging advice\r\n  * Putting JavaScript in a different file\r\n- Then for *your* project\r\n  * How to define a list of colors\r\n  * Use a function to change color of the text. \r\n  * (optional) How to make a button and make it do something\r\n- We'll wrap up with suggestions on where you can learn more on your own\r\n \r\n \r\nJavaScript is the computer language that runs in web browsers (and increasingly, everywhere else).\r\nJavaScript has good parts and bad parts.  The bad parts can make it challenging to build large web sites, but some times make it easier to do small things, particularly when learning.  So, not everything you see here is how professionals use JavaScript.  \r\n\r\n### What JavaScript looks like (the syntax)\r\n\r\nThere's so much to say about syntax that it could take all night, but we know you want to get to the fun stuff, so glance over this and keep moving on.  You will see this syntax used in the examples that follow this section.\r\n\r\nSome of the key JavaScript syntax concepts are \r\n- Statements should end in semicolons: ```;```\r\n- Usually, statements are written one-per-line  (unlike HTML)\r\n- Typically, JavaScript is run in functions, which have names, accept parameters, and \"do something specific\".  You call functions by stating their name and putting ```()``` behind the name, and including any parameters between the parenthesis.\r\n- You must use ```{``` paired with ```}``` when you have more than one line of code grouped together, and sometimes (like a function's code) matching ```{``` paired with ```}``` is required.\r\n- JavaScript has control mechanisms like if..then..else , loops (see below), and function calls.  Here's what an if..then..else statement with a pretend function call looks like...\r\n```javascript \r\nif (something-is-true) {\r\n  doThis();\r\n} else {\r\n  doThat();\r\n}\r\n```\r\n- when you are writing code inside a control structure, be sure to indent it at least 2 spaces more thn the lines above, and make a habit of using curly braces around blocks of code.  \r\n\r\n#Showing alerts and prompts\r\n\r\nYou can run JavaScript right on the address bar of your browser.  (Make a new tab, then...) type the following line:\r\n\r\n```javascript\r\njavascript:alert(\"Hello World\");\r\n```\r\n\r\nDid you see a box pop up?\r\n\r\n\r\nPrompts are a lot like alerts, but you can ask a question and save the answer in a \"variable\".  A variable is how a program remembers something.  Variables have names (and the names cannot contain anything other than letters, numbers, and the underscore character.)  When you first use a variable, you have to declaare it is a variable by the magic letters **var** in front of it.  The program code stores the variable's value.  Let's use a variable to store a name.  (The value is a bunch of characters, usually called a String.  Variables can store strings, numbers, and many more complex variable types.   We will talk about another, called an array, a bit later.)\r\n\r\nMake a new project and change the body to this:\r\n```html\r\n<!DOCTYPE html>\r\n<html><body>\r\n\r\n  <h1 id=\"welcome\">Welcome to Thimble</h1>\r\n\r\n  <p>Make something <strong>amazing</strong> with the web!</p>\r\n  <script>\r\n    var name = prompt(\"What is your name?\");\r\n    alert(\"Hello \"+name);\r\n  </script>\r\n</body></html>\r\n```\r\n\r\nBy the way, we put some javascript right in the html page.  We will not do this for long--it belongs in a separate file.  \r\n\r\nYou probably noticed that the name was shown in an alert box.  That gets irritating.  Delete that alert line and replace it with this.  It should be placed right before the final ```</script>``` tag: \r\n```javascript\r\n    document.getElementById(\"welcome\").innerHTML = \"Welcome to Thimble, \"+name;\r\n```\r\nNow, you hopefully saw the name appear at the end of the welcome message.  We used a **function** called `getElementById` to hunt down the welcome message in the web page (also called the **document**) and change it.  Cool, huh?  (Notice that the html had to name the welcome element by ```id=\"welcome\"```.  In earlier weeks we might have given it an id or class to use css to apply a style.  Later tonight, we'll use javascript to apply a new style.\r\n\r\n\r\n## Loops, If statements, and tests\r\n\r\nJavaScript is like most computer languages because it has ways to control the program action.  Two basic control mechanisms are loops and conditionals.  ```If (conditional_expression)``` lets you test and choose if a block of code should be run before running it.  Similarly, you typically use a conditional_expression to know when to stop the loop.\r\n\r\nLet's modify the web page just a bit more to create a place where output can appear.\r\nPut this line before the `<script>` tag you put in earlier.\r\n\r\n```html\r\n<p id=\"output\">How happy am I?</p>\r\n```\r\n\r\nNow, after the opening ```<script>``` tag but before the closing ```</script>``` tag, add the following\r\n```javascript\r\nvar i=0;\r\nwhile (i<10) {\r\n   document.getElementById(\"output\").innerHTML += \" :)\";\r\n   i += 1;\r\n}\r\n```\r\n\r\nWe set the value of ```i``` first to 0, then added a smiley and incremented ```i``` until it was no longer less than 10.\r\nSo, how many smileys were printed?\r\n\r\nNote: += is a math-like operator that says 'add the thing on the right to the existing thing on the left of +='.\r\nSo if i was 0, then i += 1 will increment i to be 1.  Since we're adding the smiley face to the innerHTML, it will just add another smiley the end.\r\n\r\nPeople who create programming languages usually try to make ways to write stuff shorter, so the following line is actually identical.\r\n\r\n```javascript\r\nfor (var i=0; i < 10; i+=1) {\r\n  document.getElementById(\"output\").innerHTML += \":) \";\r\n}\r\n```\r\n\r\nWarning: adding strings to existing strings gets slower the more times it happens.  If you changed the numer of times it loops from 10 to a higher number like 100, you would see it much, much slower the higher you went.  \r\n\r\n## Advice: When you don't know what is going wrong...\r\nThis is important advice if what you are doing is not working and you don't know why!\r\nIf something is wrong with your JavaScript, the JavaScript Console may be the only place to see error messages.  Open up the console log by the developer tools.  On Chrome, on a PC, press Control-Shift-I and on a Mac, press Command-Option-I.  In the top of the area that appears, click on the word \"Console\".  In this window, you will see output that JavaScript produces, either console logs as they are written, or warnings and errors in the page itself.  (On Firefox, use Control-Shift-K or Command-Option-K.  Internet Explorer? F12) \r\nTip: You can put messages you write in the console log, too.  For instance, after you asked for name, you could also print it in the console.\r\n```javascript\r\nconsole.log(\"Someone named \"+name+ \" is visiting the page\");\r\n```\r\nOf course, you also created the output area, and you can write to that and see it in the browser itself.\r\n\r\n\r\nNote: So, now I'm going to stop doing two bad things.  First, it's time to stop putting javascript in the html page!\r\nSecond, I will stop appending to a string inside a loop.\r\n\r\n## Using a separate JavaScript file\r\nIf you are using Mozilla Thimble, in the upper left corner, click the green + , which is the way to say 'add a new file', then choose JavaScript.  (If you hid the file tray by clicking the left-pointing arrow previously, then click the right-pointing arrow to restore it.)  You will see a new file created, probably called script-1.js  \r\nThe first bunch of writing is called a comment.  It is the way you can leave notes to yourself or others.  At the time this was written, it looks like this:\r\n\r\n```javascript\r\n/***************************\r\nThis is JavaScript (JS), the programming lanaguage that powers the web (and this is a comment, which you can delete).\r\n\r\nTo use this file, link it to your markup by placing a <script> in the <body> of your HTML file:\r\n\r\n  <body>\r\n    <script src=\"script.js\"></script>\r\n...    \r\n```\r\n\r\nIt's important to get the ```<script...``` tag line and copy it into your html file.  Note that the comment acts like the file is called script.js, so after you copy the line in your html file, make sure you get the name to match, probably by adding '-1' .  (If you prefer, it's prettier to rename the new file's name.)  Also, For now, I recommend that it be the last line before the closing body tag.\r\n\r\n\r\nNow, you can take the javascript code that asked for a name and copy it into this new .js file.\r\n```javascript\r\n\r\nfunction greetMe(name) {\r\n  var today = new Date();\r\n  alert(\"Hello \" + name + \", today is \" + today.toDateString());\r\n}\r\n\r\nvar name = prompt(\"What is your name?\");\r\ngreetMe(name);\r\n```\r\n\r\nThen, go back and replace the old script block with this\r\n```html\r\n    <script src=\"script-1.js\"></script>\r\n</body>\r\n```\r\n\r\nThe code that was put into the file you created uses a **function** to do it's work.\r\nYou were able to use it just by passing in the name you gathered earlier.\r\nFunction code is only run when some other code calls it, but it is good practice to make sure it has been seen by the browser prior to being called, otherwise the browser will not know what to do when it sees it.  (If you called greetMe before declaring what greetMe should do, you would see an error in the javascript console.)\r\n\r\nThe examples so far are visible at https://d157rqmxrxj6ey.cloudfront.net/jamwave/15578\r\n# Your Project\r\n\r\nWe have been excited to see how you have built projects based on your interests, and we want to encourage you to continue doing that.\r\nSo, we want to give you a few javascript tricks that can make your page even more interactive (or more automated).\r\nRemember, you need to include your javascript file in the html.\r\n```html...\r\n    <script src=\"script-1.js\"></script>\r\n<body>\r\n```\r\n\r\n## Create an array of colors\r\nAn important type of variable is the Array.  An array is a list of things, and you can get to the items one-by-one.  This is an example array of strings that happen to be color names:  \r\n\r\n```javascript\r\nvar colors = ['red', 'green', 'blue', 'orange', 'yellow'];\r\n```\r\n\r\nYou can learn the length of an array by the .length property.  (It's a property, not a function, so you do not use ```()``` to get the value.)\r\n\r\nYou can try this if you want to see it in action\r\n\r\n```javascript\r\nvar colors = ['red', 'green', 'blue', 'orange', 'yellow'];\r\nalert(\"I know of \"+colors.length+\" colors\");\r\ncolors.push('brown','cyan','navy','olive');\r\nalert(\"Now I know of \"+colors.length+\" colors\");\r\n```\r\n\r\n## Introducing Math.random()\r\n\r\nJavaScript has many math functions that can work with numbers.  (Numbers can be integers or floating point numbers and unlike nearly all other computer languages, you don't have to treat them differently.)\r\n\r\nIf you are wanting to do something fun to a web page, adding randomness by the ```Math.random``` function.\r\nCalling Math.random returns a random number between 0 and 1.  You need to multiply it by the array length, and then turn it into an integer in order to use it to get a value from an array.  Math.floor takes a floating point number and drops the fraction portion (For example, Math.floor(1.99) returns 1.\r\n\r\n```javascript\r\nvar colors = ['red', 'green', 'blue', 'orange', 'yellow'];\r\nvar colorIndex = Math.floor(Math.random() * colors.length);\r\ndocument.getElementById(\"welcome\").style.color = colors[colorIndex];\r\n```\r\n\r\n\r\n## Use a loop to change color\r\nAnother javascript control is the while statment.  We've used it already, but lets use it to change the color of the welcome message.  (Remember that your HTML needs to declare that one area of text is ```id=\"welcome\"```\r\nTry this\r\n```javascript\r\n/* use your color array from earlier!! var colors = ['red', 'green', 'blue', 'orange', 'yellow']; */\r\nvar colorsCycleCounter = 0;\r\nfunction cycleColor() {\r\n  while (colorsCycleCounter < colors.length) {\r\n    document.getElementById(\"welcome\").style.color = colors[colorsCycleCounter] ;\r\n    colorsCycleCounter += 1;\r\n  }\r\n  sleep(100);\r\n}\r\ncycleColor();\r\n```\r\n\r\n## Introducing setInterval\r\n\r\nOne of the fun things you can do is to make something happen automatically.  JavaScript's ```setInterval()``` is a way to make something happen again and again over time.  It is tricky to get right (because of variable scope), and it is very easy to bog down a computer to the point where it is unusably slow (if many fast interval timers are running or they have lots of code) but can do some cool effects if used correctly.\r\n\r\nTry this change to cycleColor and how it is wired into an interval timer\r\n```javascript\r\n/* use your color array from earlier!! var colors = ['red', 'green', 'blue', 'orange', 'yellow']; */\r\nvar colorsCycleCounter = 0;\r\nfunction cycleColor() {\r\n  document.getElementById(\"welcome\").style.color = colors[colorsCycleCounter] ;\r\n  if (colorsCycleCounter >= colors.length) {\r\n    colorsCycleCounter=0;\r\n  } else {\r\n    colorsCycleCounter += 1;\r\n  }\r\n}\r\nvar colorCycleIntervalTimer = setInterval(cycleColor,100); /* trigger every 0.1 seconds*/\r\n```\r\n\r\nOne thing that this code neglects is to clean up the timer.  Let's say you only want the color to cycle for a little while, then stop, this would be better code...\r\n```javascript\r\nvar colorsCycleCounter = 0;\r\nfunction cycleColor() {\r\n  document.getElementById(\"welcome\").style.color = colors[colorsCycleCounter % colors.length] ;\r\n  if (colorsCycleCounter <100) {\r\n    colorsCycleCounter += 1;\r\n  } else {\r\n    clearInterval(colorCycleIntervalTimer);\r\n  }\r\n}\r\nvar colorCycleIntervalTimer = setInterval(cycleColor,100);\r\n```\r\n\r\nYou can see this in action at https://d157rqmxrxj6ey.cloudfront.net/jamwave/18168\r\n\r\n*Seriously, if you are getting tired of reading, skip to the end and start Khan Academy's Hour of Code on Javascript.*\r\n\r\n## (Optional) Make a button\r\n\r\nButtons are actually created with HTML.  The oldest use of a button is for telling a web page's form that you are done filling it in and that the input should be sent to a web server.  That's not the only use for a button,  but it's the default use, so code has to be written if you don't want information to be sent to a web server and new page to be displayed.  In particular, you can run javascript when a button is pressed, and the button can do something to the web page you are looking at.\r\n\r\nIn your javscript file, add a bit of code to clear your output area.  We will put it in a function that can be called when the button is clicked.  Try this:\r\n```javascript\r\nfunction clearOutput() {\r\n  document.getElementById(\"output\").innerHTML = \"\";\r\n}\r\n```\r\n\r\nThen add the button and its callback function to the HTML\r\n```html\r\n<button id=\"myButton\" type=\"button\" onClick=\"clearOutput();return false;\">Clear It!</button>\r\n```\r\nExpert Tip: the ```return false;``` prevents the page from going away and a request being sent to the web server.\r\n\r\n## Buttons to make images bigger or smaller.\r\n\r\nButtons are also frequently used to do things with images, like make slide shows go to the next image, or make maps get bigger or smaller.  Let's mix it up and add button to make the images you used last week get bigger or smaller.\r\n\r\nLast week, I added this image to the presentation\r\n\r\nLogo: \r\n![alt text](https://rawgithub.com/CoderDojoSV/Intro-Web-Series/master/Day%202/HTML5_and_CSS3_badges.svg \"logo\")\r\n\r\nLet's tweak the HTML to give images a slightly better class name.\r\n\r\n```html\r\n<img class=\"centeredImage\" width=\"600px\" src=\"https://rawgithub.com/CoderDojoSV/Intro-Web-Series/master/Day%202/HTML5_and_CSS3_badges.svg\">\r\n```\r\n\r\nand the css\r\n```css\r\nimg.centeredImage {\r\n    display: block;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n}\r\n```\r\n\r\nNext, let's write a bit of javascript and html to add sizing buttons.\r\n\r\n```html\r\n<p>\r\n<button id=\"smallerButton\" type=\"button\" onClick=\"javascript:scaleImages(0.9);return false;\">Smaller</button>\r\n<button id=\"biggerButton\" type=\"button\" onClick=\"javascript:scaleImages(1.1);return false;\">Bigger</button>\r\n</p>\r\n```\r\n\r\nNow, if you had one or more images with the class centeredImage, you can make them all bigger by this code. \r\nNote I am using a global variable (which is not good) and that there are \r\n```javascript\r\nvar currentWidth=100;\r\nfunction scaleImages(scale) {\r\n  currentWidth *= scale;\r\n\r\n  var elems = document.getElementsByClassName(\"centeredImage\");\r\n  for (var i = 0; i < elems.length; i++) {\r\n    elems[i].style.maxWidth = currentWidth + '%';\r\n  }\r\n}\r\n```\r\n\r\nThis is a little different than the function you saw before.  Rather than asking for one element that matches a single id, we're asking for all elements that match a class.\r\nAnd, rather than iterating one-by-one with an index (i), we are asking javascript to iterate through all of them.\r\n\r\nYou can see an example of this code at https://d157rqmxrxj6ey.cloudfront.net/jamwave/17762\r\n\r\n\r\n\r\n\r\n# Project suggestions\r\n\r\n- Can you apply a random background color chosen from a list?  You would want the list to be lighter colors (see http://www.w3.org/TR/css3-color/#svg-color) or choose your own from a color picker (inside Thimble or https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Colors/Color_picker_tool or http://colorpicker.com)  OR if you use dark colors, use CSS to change your default color to be very light.\r\n- Can you put together everything you learned to use an array of URLs to randomly choose the image that is loaded as you go from page to page in your site?\r\n- Can you use a timer to make the page automatically choose where to go next (after, say, 10000 milliseconds?)  Setting ```location.href=``` will cause the browser to go to the location you set.\r\n\r\n# Next Steps\r\n\r\nWe barely scratched the surface of Javascript in this class.  You can easily learn more online...\r\n\r\n## Khan Academy's Hour of Code with Javascript\r\nIf you run out of ideas tonight and.or just want a quick lesson that takes about an hour, look at Khan Academy's Hour Of Code lesson at https://www.khanacademy.org/computing/hour-of-code\r\n\r\n## still more...\r\nThere is a wealth of resources for learning JavaScript.  \r\nKhan Academy's site is truly an awesome way to learn JavaScript.  https://www.khanacademy.org/computing/computer-programming/programming\r\n\r\nThe reason we chose Thimble for this class is that it is structured for learners.  Scroll on down at https://thimble.mozilla.org/ and you will see many projects.  Choose one that looks interesting.\r\n\r\nIf you visit the official Hour Of Code site at https://code.org/learn , you will see recommendations for several great, free sites for learning javascript.  There are a number of very good paid sites as well.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}